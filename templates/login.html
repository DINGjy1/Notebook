{% extends 'layout.html' %}

{% block body %}
<div class="content">
  <p>
			<img src = "../static/home.png"  width="15%"  height="5%" />
  </p>
  <h1 class="title-center">用户登录</h1>
  <form action="" method="POST" onsubmit="return checkLogin()">
    <div class="form-group">
      <label>用户名</label>
      <input type="text" name="username" class="form-control" value={{request.form.username}}>
    </div>
    <div class="form-group">
      <label>密码</label>
      <input type="password" name="password" class="form-control" value="">
    </div>
    <button type="submit" class="btn btn-primary" width="10%"  text-align="center">登录</button>
  </form>
</div>

<script>
  function checkLogin(){
      var username = $("input[name='username']").val() #获取用户填写的用户名
      var password = $("input[name='password']").val() #获取用户填写的密码
      // 检测用户名长度
      if ( username.length < 2  || username.length > 25){
        alert('用户名长度在2-25个字符之间')
        return false;
      }
      // 检测密码长度
      if ( password.length < 6  || password.length > 20){
        alert('密码长度在6-20个字符之间')
        return false;
      }
      result = [0, 0, 0, 0]
      for i in password:
        if sum(result) >=3:
            break
        else:
            if i.isupper():
                result[0] = 1
            elif i.islower():
                result[1] = 1
            elif i.isdigit():
                result[2] = 1
            else:
                result[3] = 1
      if sum(result) < 3:
      alert ('你的密码需要包括大、小写字母.数字.其它符号,至少三种')
  }
</script>

{% endblock %}
